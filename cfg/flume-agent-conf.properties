pipeline.sources = spoolsrc
pipeline.channels = memchannel
pipeline.sinks = avro2hdfssink

pipeline.channels = memchannel
pipeline.channels.memchannel.type = memory
pipeline.channels.memchannel.capacity = 10000
pipeline.channels.memchannel.transactionCapacity = 10000
pipeline.channels.memchannel.byteCapacityBufferPercentage = 20
pipeline.channels.memchannel.byteCapacity = 800000

pipeline.sources.spoolsrc.type = spooldir
pipeline.sources.spoolsrc.channels = memchannel
pipeline.sources.spoolsrc.spoolDir = /var/spool/flume
pipeline.sources.spoolsrc.deletePolicy = immediate

pipeline.sinks.avro2hdfssink.type = hdfs
pipeline.sinks.avro2hdfssink.channel = memchannel
pipeline.sinks.avro2hdfssink.hdfs.path = /user/flume/in/%Y%m%d
pipeline.sinks.avro2hdfssink.hdfs.useLocalTimeStamp = true
pipeline.sinks.avro2hdfssink.hdfs.idleTimeout = 60
pipeline.sinks.avro2hdfssink.hdfs.rollCount = 2500000
pipeline.sinks.avro2hdfssink.hdfs.filePrefix = backblaze
pipeline.sinks.avro2hdfssink.hdfs.fileSuffix = .seq
pipeline.sinks.avro2hdfssink.hdfs.rollInterval = 0
pipeline.sinks.avro2hdfssink.hdfs.rollSize = 0

pipeline.sources.spoolsrc.channels = memchannel
pipeline.sinks.avro2hdfssink.channels = memchannel
